# ğŸš¨ ë©”ì‹ ì €ë´‡ ì´ˆë³´ìê°€ ìì£¼ ê²ªëŠ” ì˜¤ë¥˜ í•´ê²° ê°€ì´ë“œ

## ğŸ“Œ ì´ ê°€ì´ë“œë¥¼ ë¨¼ì € ì½ì–´ì•¼ í•˜ëŠ” ì´ìœ 
ë©”ì‹ ì €ë´‡ì„ ì²˜ìŒ ê°œë°œí•˜ë‹¤ ë³´ë©´ ë°˜ë³µì ìœ¼ë¡œ ê²ªëŠ” ì˜¤ë¥˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤. 
ì´ ê°€ì´ë“œëŠ” ê·¸ëŸ° ì˜¤ë¥˜ë“¤ì„ ë¹ ë¥´ê²Œ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

---

## ğŸ”´ ì˜¤ë¥˜ 1: "ë´‡ì´ ì•„ë¬´ ë°˜ì‘ì´ ì—†ì–´ìš”!"

### ì¦ìƒ
- ì¹´í†¡ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë„ ë´‡ì´ ë°˜ì‘í•˜ì§€ ì•ŠìŒ
- ë¡œê·¸ì—ë„ ì•„ë¬´ê²ƒë„ ì°íˆì§€ ì•ŠìŒ

### ì›ì¸ê³¼ í•´ê²°ë²•

#### 1-1. ë´‡ì´ ì»´íŒŒì¼ë˜ì§€ ì•Šì•˜ì„ ë•Œ
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ: ì„¸ë¯¸ì½œë¡  ë¹ ì§
var bot = BotManager.getCurrentBot()

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
var bot = BotManager.getCurrentBot();
```
**í•´ê²°**: ë©”ì‹ ì €ë´‡ ì•±ì—ì„œ ë¹¨ê°„ìƒ‰ ì˜¤ë¥˜ í™•ì¸ â†’ ìˆ˜ì • â†’ ì¬ì»´íŒŒì¼

#### 1-2. ë°© ì´ë¦„ì´ í‹€ë ¸ì„ ë•Œ
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ: ë„ì–´ì“°ê¸° ì‹¤ìˆ˜
TARGET_ROOMS: ["í…ŒìŠ¤íŠ¸ ë°©"]  // ì‹¤ì œë¡œëŠ” "í…ŒìŠ¤íŠ¸ë°©"

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
TARGET_ROOMS: ["í…ŒìŠ¤íŠ¸ë°©"]
```
**í•´ê²°**: ì¹´í†¡ ë°© ì´ë¦„ ì •í™•íˆ í™•ì¸ (ë„ì–´ì“°ê¸°, íŠ¹ìˆ˜ë¬¸ì ì£¼ì˜)

#### 1-3. ë´‡ì´ êº¼ì ¸ìˆì„ ë•Œ
**í•´ê²°**: ë©”ì‹ ì €ë´‡ ì•± â†’ í•´ë‹¹ ë´‡ â†’ ì „ì› ë²„íŠ¼ ON

---

## ğŸ”´ ì˜¤ë¥˜ 2: "TypeError: Cannot read property 'xxx' of undefined"

### ì¦ìƒ
```
TypeError: Cannot read property 'name' of undefined
at line 15
```

### ì›ì¸
ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°ì²´ì˜ ì†ì„±ì— ì ‘ê·¼

### í•´ê²°ë²•
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ
bot.on("message", function(msg) {
    var name = msg.author.name;  // msg.authorê°€ ì—†ìœ¼ë©´ ì˜¤ë¥˜!
});

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ 1: ì¡°ê±´ ì²´í¬
bot.on("message", function(msg) {
    if (msg && msg.author && msg.author.name) {
        var name = msg.author.name;
    }
});

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ 2: ê¸°ë³¸ê°’ ì„¤ì •
bot.on("message", function(msg) {
    var name = (msg.author && msg.author.name) || "ì´ë¦„ì—†ìŒ";
});
```

---

## ğŸ”´ ì˜¤ë¥˜ 3: "ë¬¸ìì—´ ì²˜ë¦¬ ì˜¤ë¥˜"

### ì¦ìƒ
```
TypeError: msg.content.indexOf is not a function
```

### ì›ì¸
ë¬¸ìì—´ì´ ì•„ë‹Œ ê°’ì— ë¬¸ìì—´ ë©”ì†Œë“œ ì‚¬ìš©

### í•´ê²°ë²•
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ
if (msg.content.indexOf("ì•ˆë…•") == 0) { }

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: íƒ€ì… ì²´í¬
if (typeof msg.content === "string" && msg.content.indexOf("ì•ˆë…•") == 0) { }

// âœ… ë” ë‚˜ì€ ì˜ˆ: trim() ì¶”ê°€
var content = String(msg.content || "").trim();
if (content.indexOf("ì•ˆë…•") == 0) { }
```

---

## ğŸ”´ ì˜¤ë¥˜ 4: "API í˜¸ì¶œì´ ì•ˆ ë¼ìš”"

### ì¦ìƒ
- API ì‘ë‹µì´ ì—†ìŒ
- Connection timeout ì˜¤ë¥˜

### ì²´í¬ë¦¬ìŠ¤íŠ¸
1. **API í‚¤ í™•ì¸**
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ
API_KEY: "pplx-ì—¬ê¸°ì—-ì‹¤ì œ-API-í‚¤-ì…ë ¥"  // ì´ëŒ€ë¡œ ë‘ë©´ ì•ˆë¨!

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ
API_KEY: "pplx-abc123def456..."  // ì‹¤ì œ API í‚¤ ì…ë ¥
```

2. **ì¸í„°ë„· ì—°ê²° í™•ì¸**
```javascript
// ê°„ë‹¨í•œ ì—°ê²° í…ŒìŠ¤íŠ¸
try {
    var test = org.jsoup.Jsoup.connect("https://www.google.com")
        .timeout(5000).get();
    Log.d("ì—°ê²° ì„±ê³µ");
} catch(e) {
    Log.e("ì¸í„°ë„· ì—°ê²° ì‹¤íŒ¨: " + e.message);
}
```

3. **íƒ€ì„ì•„ì›ƒ ëŠ˜ë¦¬ê¸°**
```javascript
// ê¸°ë³¸ 10ì´ˆ â†’ 20ì´ˆë¡œ ëŠ˜ë¦¬ê¸°
.timeout(20000)
```

---

## ğŸ”´ ì˜¤ë¥˜ 5: "ë´‡ì´ ê°™ì€ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ ë²ˆ ë³´ë‚´ìš”"

### ì›ì¸
ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ì¤‘ë³µ ë“±ë¡ë¨

### í•´ê²°ë²•
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ: í•¨ìˆ˜ ì•ˆì—ì„œ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
function setupBot() {
    bot.on("message", function(msg) {  // setupBot í˜¸ì¶œë§ˆë‹¤ ì¤‘ë³µ!
        msg.reply("ì•ˆë…•");
    });
}

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ìµœìƒìœ„ ë ˆë²¨ì—ì„œ í•œ ë²ˆë§Œ ë“±ë¡
bot.on("message", function(msg) {
    if (msg.content === "ì•ˆë…•") {
        msg.reply("ì•ˆë…•í•˜ì„¸ìš”!");
    }
});
```

---

## ğŸ”´ ì˜¤ë¥˜ 6: "ê³„ì‚°ì´ ì´ìƒí•˜ê²Œ ë‚˜ì™€ìš”"

### ì¦ìƒ
```javascript
"1" + "1" = "11"  // 2ê°€ ì•„ë‹ˆë¼ 11?
```

### ì›ì¸
ë¬¸ìì—´ ì—°ê²° vs ìˆ«ì ê³„ì‚° í˜¼ë™

### í•´ê²°ë²•
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ
var result = msg.content.substring(3);  // "1+1"
var answer = result[0] + result[2];     // "1" + "1" = "11"

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ 1: ìˆ«ì ë³€í™˜
var num1 = Number(result[0]);
var num2 = Number(result[2]);
var answer = num1 + num2;  // 2

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ 2: eval ëŒ€ì‹  new Function
var answer = new Function("return " + result)();  // 2
```

---

## ğŸ”´ ì˜¤ë¥˜ 7: "Threadê°€ ë©ˆì¶”ì§€ ì•Šì•„ìš”"

### ì¦ìƒ
- ë´‡ì´ ëŠë ¤ì§
- ë©”ì‹ ì €ë´‡ ì•±ì´ ë©ˆì¶¤

### ì›ì¸
ë¬´í•œ ë£¨í”„ ë˜ëŠ” Thread ê´€ë¦¬ ì‹¤íŒ¨

### í•´ê²°ë²•
```javascript
// âŒ ì˜ëª»ëœ ì˜ˆ: ë¬´í•œ ë£¨í”„
new java.lang.Thread(function() {
    while(true) {  // ì ˆëŒ€ ëë‚˜ì§€ ì•ŠìŒ!
        // ë­”ê°€ ì²˜ë¦¬
    }
}).start();

// âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: ì¢…ë£Œ ì¡°ê±´ ì¶”ê°€
var running = true;
new java.lang.Thread(function() {
    while(running) {
        // ì²˜ë¦¬
        java.lang.Thread.sleep(1000);  // 1ì´ˆ ëŒ€ê¸°
        
        // ì¢…ë£Œ ì¡°ê±´ ì²´í¬
        if (someCondition) {
            running = false;
        }
    }
}).start();
```

---

## ğŸ’¡ ë””ë²„ê¹… ê¿€íŒ

### 1. Logë¥¼ ë§ì´ ì°ì–´ë³´ê¸°
```javascript
bot.on("message", function(msg) {
    Log.d("ë°›ì€ ë©”ì‹œì§€: " + msg.content);
    Log.d("ë³´ë‚¸ ì‚¬ëŒ: " + msg.author.name);
    Log.d("ë°© ì´ë¦„: " + msg.room);
    
    // ì²˜ë¦¬ ë¡œì§
    
    Log.d("ì²˜ë¦¬ ì™„ë£Œ");
});
```

### 2. try-catchë¡œ ê°ì‹¸ê¸°
```javascript
bot.on("message", function(msg) {
    try {
        // ìœ„í—˜í•œ ì½”ë“œ
        processMessage(msg);
    } catch(e) {
        Log.e("ì˜¤ë¥˜: " + e.message);
        msg.reply("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”: " + e.message);
    }
});
```

### 3. ì‘ì€ ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸
```javascript
// ì „ì²´ ê¸°ëŠ¥ì„ í•œë²ˆì— ë§Œë“¤ì§€ ë§ê³ , ì‘ì€ ë¶€ë¶„ë¶€í„°
// 1ë‹¨ê³„: ë©”ì‹œì§€ ë°›ê¸°ë§Œ í…ŒìŠ¤íŠ¸
bot.on("message", function(msg) {
    Log.d("ë©”ì‹œì§€ ë°›ìŒ");
});

// 2ë‹¨ê³„: íŠ¹ì • ëª…ë ¹ì–´ ì¸ì‹ í…ŒìŠ¤íŠ¸
bot.on("message", function(msg) {
    if (msg.content === "í…ŒìŠ¤íŠ¸") {
        Log.d("í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´ ì¸ì‹ë¨");
    }
});

// 3ë‹¨ê³„: ë‹µì¥ í…ŒìŠ¤íŠ¸
// ... ì ì§„ì ìœ¼ë¡œ ê¸°ëŠ¥ ì¶”ê°€
```

---

## ğŸ“š ì¶”ê°€ ë„ì›€ë§

### ìì£¼ ì“°ëŠ” ë””ë²„ê¹… ëª…ë ¹ì–´
```javascript
// í˜„ì¬ ì‹œê°„ í™•ì¸
Log.d("í˜„ì¬ ì‹œê°„: " + new Date());

// ë³€ìˆ˜ íƒ€ì… í™•ì¸
Log.d("íƒ€ì…: " + typeof someVariable);

// ê°ì²´ ë‚´ìš© í™•ì¸
Log.d("ê°ì²´: " + JSON.stringify(someObject));

// ë°°ì—´ ê¸¸ì´ í™•ì¸
Log.d("ë°°ì—´ ê¸¸ì´: " + someArray.length);
```

### ë©”ì‹ ì €ë´‡ ì¬ì‹œì‘ ìˆœì„œ
1. ë´‡ ì „ì› OFF
2. ì½”ë“œ ìˆ˜ì •
3. ì €ì¥
4. ì»´íŒŒì¼
5. ë´‡ ì „ì› ON
6. í…ŒìŠ¤íŠ¸

---

## ğŸ†˜ ê·¸ë˜ë„ ì•ˆ ë˜ë©´?

1. **log.json í™•ì¸**: `/sdcard/msgbot/log.json`
2. **ë©”ì‹ ì €ë´‡ ì•± ì¬ì‹œì‘**: ì™„ì „íˆ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹¤í–‰
3. **ê¶Œí•œ í™•ì¸**: ì•Œë¦¼ ì ‘ê·¼ ê¶Œí•œ, ì˜¤ë²„ë ˆì´ ê¶Œí•œ ë“±
4. **ì»¤ë®¤ë‹ˆí‹° ì§ˆë¬¸**: ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ ì½”ë“œë¥¼ í•¨ê»˜ ì˜¬ë¦¬ê¸°

---

ğŸ’¡ **ê¸°ì–µí•˜ì„¸ìš”**: ëª¨ë“  ê°œë°œìê°€ ì´ëŸ° ì˜¤ë¥˜ë¥¼ ê²ªìŠµë‹ˆë‹¤. í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! ğŸ¯